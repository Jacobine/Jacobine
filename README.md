# TYPO3-Analytics

[![Dependencies Status](http://www.depending.in/andygrunwald/TYPO3-Analytics.png)](http://www.depending.in/andygrunwald/TYPO3-Analytics)


TYPO3-Analytics aims to take many different analysis on the [TYPO3](http://typo3org/) open source CMS and the community.
Analysis can be the size of the different versions in MB, the most active contributers, the atmosphere / mood of the
communication in the community (e.g. twitter) or to combine many data sources to answer questions like "At which point in time
is the most activity for contribution?" (just an example).

All necessary application and library stack is bundled into a easy to use virtual machine. You can find the complete setup in the [vagrant setup repository](https://github.com/andygrunwald/TYPO3-Analytics-Vagrant).

*ATTENTION*: This project is highly under development and can be completely change during development. But contribution is already welcome :)

## The concept / workflow

To reach the mentioned goal above many tasks are to do like collect, save, cross-link and analyze data.
Some tasks of this may take some time. The concept of a message queue system is a good solution for this.
This is one of the main reasons why this project use [RabbitMQ](http://www.rabbitmq.com/) as a main service.

This project provide different parts which are linked / works with RabbitMQ as producer or customer.

### Producer

* `php console crawler:gerrit`: Adds a Gerrit review system to message queue to crawl this.
* `php console crawler:gitweb`: Adds a Gitweb page to message queue to crawl this.
* `php console typo3:get.typo3.org`: Recieves all versions of get.typo3.org and stores them into a database

### Consumer

All consumers are started via the `analysis:consumer`-command of the `console`located in `/var/www/analysis/application`.
E.g. `php console analysis:consumer --project=TYPO3 Extract\\Targz`

* `Analysis\\CVSAnaly`: Executes the CVSAnaly analysis on a given folder and stores the results in database.
* `Analysis\\Filesize`: Determines the filesize in bytes and stores them in version database table.
* `Analysis\\GithubLinguist`: Executes the Github Linguist analysis on a given folder and stores the results in linguist database table.
* `Analysis\\PDepend`: Executes the PDepend analysis on a given folder.
* `Analysis\\PHPLoc`: Executes the PHPLoc analysis on a given folder and stores the results in phploc database table.
* `Crawler\\Gerrit`: Prepares the message queues for a single Gerrit review system.
* `Crawler\\GerritProject`: Imports a single project of a Gerrit review system.
* `Crawler\\Gitweb`: Crawls a Gitweb-Index page for Git-repositories.
* `Download\\Git`: Downloads a Git repository.
* `Download\\HTTP`: Downloads a HTTP resource.
* `Extract\\Targz`: Extracts a *.tar.gz archive.

To list all available consumers execute `php console analysis:list-consumer`.

## Todos

* Add a consumer to import the jDepend xml file to database (generated by pDepend)
* Add a consumer to import the pDepend summary xml file to database (generated by pDepend)
* Add tools to import / analyze the TYPO3 mailing lists
* Add tools to import / analyze the TYPO3 bugtracker
* Add tools to import / analyze tweets about TYPO3 + ecosystem
* Add tools to import / analyze irc logs
* Add tools to import / analyze jenkins activity
* Refactor logging with the usage of rabbitmq
* Add support for dead letter exchange of rabbitmq (http://www.rabbitmq.com/dlx.html)

## Contributing

* Fork and clone it (`git clone git://github.com/andygrunwald/TYPO3-Analytics.git`)
* Create your feature branch (`git checkout -b my-new-feature`)
* Make your changes (hack hack hack)
* Commit your changes (`git commit -am 'Add some feature'`)
* Push to the branch (`git push origin my-new-feature`)
* Create new Pull Request

## Questions / Contact / Feedback

If you got questions, feedback or want to drink a beer and talk about this project just contact me.
Write me an email (see my Github-profile for this) or tweet me: [@andygrunwald](http://twitter.com/andygrunwald).
And of course you can just open an issue here on github.
